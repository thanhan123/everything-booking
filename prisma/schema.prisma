model Organization {
    id       String    @id @default(cuid())
    name     String
    services Service[]
    bookings Booking[]
    users    User[]
}

model User {
    id             String        @id @default(cuid())
    email          String        @unique
    password       String?
    role           Role          @default(CUSTOMER)
    organizationId String?
    organization   Organization? @relation(fields: [organizationId], references: [id])
    Booking        Booking[]
}

enum Role {
    CUSTOMER
    ORG_ADMIN
}

model Service {
    id             String       @id @default(cuid())
    name           String
    description    String
    price          Float
    organizationId String
    organization   Organization @relation(fields: [organizationId], references: [id])
    bookings       Booking[]
}

model Booking {
    id             String        @id @default(cuid())
    serviceId      String
    userId         String
    date           DateTime
    status         BookingStatus @default(PENDING)
    service        Service       @relation(fields: [serviceId], references: [id])
    user           User          @relation(fields: [userId], references: [id])
    Organization   Organization? @relation(fields: [organizationId], references: [id])
    organizationId String?
}

enum BookingStatus {
    PENDING
    CONFIRMED
    CANCELLED
}
